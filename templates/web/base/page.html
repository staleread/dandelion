{% extends "base/base.html" %}

{% block header %}
  <nav class="navbar bg-base-100">
    <div class="navbar-start">
      <div class="dropdown">
        <div tabindex="0" role="button" class="btn btn-ghost btn-circle">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16M4 18h7" />
          </svg>
        </div>
        <div
          tabindex="0"
          class="menu menu-sm dropdown-content bg-base-100 rounded-box z-[10] mt-3 w-52 p-2 shadow"
        >
          {% if schema == "dba" %}
            {% include "schema/dba/menu.html" %}
          {% endif %}
          {% if schema == "classic" %}
            {% include "schema/classic/menu.html" %}
          {% endif %}
        </div>
      </div>
    </div>
    <a
      href="{% if schema == "dba" %}/dba{% else %}/classic{% endif %}"
      class="navbar-center btn btn-ghost"
    >
      <span class="text-xl">
        {% if schema == "dba" %}
          {% block logo_shema %}dandelion-db{% endblock %}
        {% endif %}
        {% if schema == "classic" %}
          {% block logo_page %}dandelion{% endblock %}
        {% endif %}
      </span>
    </a>
    <div class="navbar-end flex gap-4 mr-2">
      <label class="swap swap-rotate">
        <input
          id="theme-controller"
          type="checkbox"
          class="theme-controller"
          value="dim"
        />

        <svg
          class="swap-off size-7 fill-current"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24">
          <path
            d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z" />
        </svg>

        <svg
          class="swap-on size-7 fill-current"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24">
          <path
            d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z" />
        </svg>
      </label>
      {% if schema == "dba" %}
        {% include "schema/dba/nav_actions.html" %}
      {% endif %}
    </div>
  </nav>
{% endblock %}
{% block content %}
<div class="w-full px-2 sm:px-4 pt-4 pb-8 bg-base-200" style="min-height: calc(100vh - 64px);">
    <div class="container mx-auto max-w-screen-xl">
        {% block breadcrumbs_container %}
        <div class="breadcrumbs text-sm mb-4">
            <ul>
                {% block breadcrumbs %}{% endblock %}
            </ul>
        </div>
        {% endblock %}
        {% block page_content %}{% endblock %}
    </div>
</div>
{% endblock %}
{% block footer %}
  <footer class="footer bg-neutral text-neutral-content flex flex-col sm:flex-row justify-between items-center p-4">
    <aside>
      <p class="text-center">Powered by <a href="https://daisyui.com/" class="link link-info" target="_blank">daisyUI</a></p>
    </aside>
    <nav class="mr-2">
      <a href="https://github.com/staleread/dandelion" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="23" viewBox="0 0 73 72" version="1.1"><g id="surface1"><path style=" stroke:none;fill-rule:evenodd;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 36.390625 0 C 16.269531 0 0 16.5 0 36.914062 C 0 53.230469 10.421875 67.042969 24.882812 71.929688 C 26.691406 72.296875 27.351562 71.136719 27.351562 70.160156 C 27.351562 69.304688 27.292969 66.371094 27.292969 63.3125 C 17.171875 65.515625 15.0625 58.914062 15.0625 58.914062 C 13.4375 54.636719 11.023438 53.535156 11.023438 53.535156 C 7.710938 51.273438 11.265625 51.273438 11.265625 51.273438 C 14.941406 51.519531 16.871094 55.0625 16.871094 55.0625 C 20.125 60.683594 25.367188 59.097656 27.472656 58.117188 C 27.773438 55.734375 28.738281 54.085938 29.765625 53.167969 C 21.691406 52.3125 13.195312 49.136719 13.195312 34.957031 C 13.195312 30.921875 14.640625 27.625 16.929688 25.058594 C 16.570312 24.140625 15.304688 20.351562 17.292969 15.277344 C 17.292969 15.277344 20.363281 14.300781 27.292969 19.066406 C 30.257812 18.257812 33.316406 17.847656 36.390625 17.84375 C 39.464844 17.84375 42.597656 18.273438 45.488281 19.066406 C 52.417969 14.300781 55.492188 15.277344 55.492188 15.277344 C 57.480469 20.351562 56.214844 24.140625 55.851562 25.058594 C 58.203125 27.625 59.585938 30.921875 59.585938 34.957031 C 59.585938 49.136719 51.09375 52.25 42.957031 53.167969 C 44.285156 54.328125 45.429688 56.53125 45.429688 60.011719 C 45.429688 64.964844 45.367188 68.9375 45.367188 70.15625 C 45.367188 71.136719 46.03125 72.296875 47.839844 71.929688 C 62.296875 67.039062 72.722656 53.230469 72.722656 36.914062 C 72.78125 16.5 56.453125 0 36.390625 0 Z M 36.390625 0 " /></g></svg>
      </a>
    </nav>
  </footer>
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
  const themeController = document.querySelector('#theme-controller');

  themeController.addEventListener('change', () => {
    setIsDark(themeController.checked);
  });

  document.addEventListener('DOMContentLoaded', () => {
    themeController.checked = getIsDark();
  });
</script>
{% endblock %}